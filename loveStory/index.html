<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Зимняя история</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=Sacramento&display=swap');

body { margin: 0; padding: 0; background-color: #0a0a0f; color: #e0e0e0; font-family: 'Cormorant Garamond', serif; overflow: hidden; height: 100vh; width: 100vw; position: relative; }

body::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle at center, transparent 30%, #0a0a0f 70%); pointer-events: none; z-index: 1; opacity: 0.6; }

.snowflake { position: absolute; pointer-events: none; border-radius: 50%; background: radial-gradient(circle at 30% 30%, #fff, #f0f8ff); box-shadow: 0 0 12px rgba(255,255,255,0.9); animation: fall linear infinite, sway ease-in-out infinite, spin linear infinite, twinkle ease-in-out infinite; }

.sparkle { position: absolute; width: 5px; height: 5px; background: radial-gradient(#ffafbd, #ffd700); border-radius: 50%; pointer-events: none; animation: sparkleFall linear infinite; }

@keyframes fall { from { transform: translateY(-100vh); } to { transform: translateY(110vh); } }
@keyframes sway { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(40px); } }
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
@keyframes twinkle { 0%, 100% { opacity: 0.8; } 50% { opacity: 0.4; } }
@keyframes sparkleFall { 0% { opacity: 0; transform: translateY(-50vh); } 20% { opacity: 0.9; } 100% { transform: translateY(110vh) rotate(360deg); opacity: 0; } }

#book { width: 100%; height: 100%; position: relative; perspective: 2000px; }

.page { position: absolute; width: 100%; height: 100%; top: 0; left: 0; padding: 5vw; box-sizing: border-box; background: linear-gradient(to bottom, #1a1a22, #0d0d15); display: flex; flex-direction: column; justify-content: center; align-items: center; backface-visibility: hidden; transition: transform 1.2s cubic-bezier(0.645, 0.045, 0.355, 1), opacity 1.2s ease; transform-origin: left center; opacity: 0; box-shadow: 0 0 50px rgba(0,0,0,0.8); }

.page.active { opacity: 1; transform: rotateY(0deg); z-index: 10; }
.page.flipped { transform: rotateY(-178deg) scale(0.95); opacity: 0; z-index: 5; }

.image-container { width: 90vw; max-width: 420px; height: 40vh; border-radius: 18px; overflow: hidden; box-shadow: 0 15px 50px rgba(0,0,0,0.7), 0 0 30px rgba(255,175,189,0.2); margin-bottom: 5vw; border: 1px solid rgba(255,175,189,0.2); opacity: 0; transform: translateY(30px) scale(0.92); transition: all 1.4s ease 0.6s; }

.page.active .image-container { opacity: 1; transform: translateY(0) scale(1); }

img { width: 100%; height: 100%; object-fit: cover; loading: eager; }

/* Фильтр для GIF с сердцем */
.my-photo img { filter: sepia(15%) brightness(115%) hue-rotate(10deg); }

.text-content { width: 90vw; max-width: 520px; text-align: center; }

.text-content > * { opacity: 0; transform: translateY(30px); transition: all 1.4s ease; text-shadow: 0 0 15px rgba(255,175,189,0.3); }

.page.active .text-content > *:nth-child(1) { transition-delay: 1s; }
.page.active .text-content > *:nth-child(2) { transition-delay: 1.3s; }
.page.active .text-content > *:nth-child(3) { transition-delay: 1.6s; }
.page.active .text-content > * { opacity: 1; transform: translateY(0); }

h2 { font-family: 'Sacramento', cursive; font-size: 2.6rem; color: #ffafbd; margin: 0 0 20px 0; }
p { font-family: 'Cormorant Garamond', serif; font-size: 1.25rem; line-height: 1.7; color: #ffc3a0; }

.hint { position: absolute; bottom: 5vw; font-size: 1rem; opacity: 0.6; letter-spacing: 1px; }

#start-screen h1 { font-family: 'Sacramento', cursive; font-size: 3.5rem; color: #ffafbd; text-shadow: 0 0 20px rgba(255,175,189,0.5); }
</style>
</head>
<body>

<div id="book">
  <!-- Обложка -->
  <div class="page active" id="start-screen">
    <h1>Записка<br>для «И»</h1>
    <div class="text-content">
      <p>Маленькое чудо<br>одного снежного вечера...</p>
      <p style="margin-top: 30px;">Свайпай влево → чтобы открыть<br>Свайпай вправо ← чтобы вернуться</p>
    </div>
    <div class="hint">← → → →</div>
  </div>

  <!-- Страница 1 -->
  <div class="page">
    <div class="image-container"><img src="img1.jpg" alt="Город"></div>
    <div class="text-content">
      <h2>Зимний город</h2>
      <p>В этот вечер город был особенно холодным и далёким. Пробки, светофоры, бесконечные километры — всё казалось обычной рутиной зимнего дня.</p>
    </div>
    <div class="hint">← назад  вперёд →</div>
  </div>

  <!-- Страница 2 -->
  <div class="page">
    <div class="image-container"><img src="img2.jpg" alt="Телефон"></div>
    <div class="text-content">
      <h2>Неожиданное сообщение</h2>
           <p>Написал тебе: «Заканчиваю работу и жду заказ по пути домой». Шанс был минимальным, но иногда Вселенная любит удивлять.</p>
    </div>
    <div class="hint">← назад  вперёд →</div>
  </div>

  <!-- Страница 3 (теперь GIF) -->
  <div class="page">
    <div class="image-container"><img src="img3.gif" alt="Совпадение" loading="eager"></div>
    <div class="text-content">
      <h2>Маленькое совпадение</h2>
      <p>И вдруг — уведомление. Адрес оказался совсем рядом с твоим домом. Туда обычно заказы вообще не падают, но... Набережная каменки 19к3. Как будто новогодняя сказка подмигнула и такая «Ну чё там? Как дела у вас?».</p>
    </div>
    <div class="hint">← назад  вперёд →</div>
  </div>

  <!-- Страница 4 (GIF с сердцем) -->
  <div class="page">
    <div class="image-container my-photo"><img src="my_heart.gif" alt="Сердце" loading="eager"></div>
    <div class="text-content">
      <h2>Послание на снегу</h2>
      <p>Снег был чистым и искрился под фонарями. Оставил на нём простое сердце для тебя с буквой «И» — как маленькое напоминание о тепле в холодный вечер. И о том, чтобы ты не забывала чувствовать чудо внутри себя. Ведь оно всегда с тобой </p>
    </div>
    <div class="hint">← назад  вперёд →</div>
  </div>

  <!-- Финал -->
  <div class="page">
    <div class="text-content">
      <h2 style="font-size: 3rem;">Продолжение следует...</h2>
      <p style="font-size: 1.8rem;">Пусть эта зима будет полной маленьких чудес!</p>
      <p style="font-size: 1.6rem; color: #ffd700;">С наилучшими пожеланиями<br>в преддверии Нового года ✨</p>
    </div>
    <div class="hint">← назад</div>
  </div>
</div>

<script>
// Снегопад и искры — без изменений
setInterval(() => {
  const s = document.createElement('div');
  s.classList.add('snowflake');
  const size = Math.random() * 8 + 4 + 'px';
  s.style.width = s.style.height = size;
  s.style.left = Math.random() * 100 + 'vw';
  s.style.top = -(Math.random() * 100 + 20) + 'vh';
  const baseDuration = Math.random() * 10 + 10;
  s.style.animationDuration = `${baseDuration}s, ${baseDuration * 0.8}s, ${baseDuration * 1.5}s, ${Math.random() * 3 + 2}s`;
  s.style.opacity = Math.random() * 0.6 + 0.5;
  document.body.appendChild(s);
  setTimeout(() => s.remove(), baseDuration * 1000 + 2000);
}, 60);

setInterval(() => {
  const sp = document.createElement('div');
  sp.classList.add('sparkle');
  sp.style.left = Math.random() * 100 + 'vw';
  sp.style.top = -(Math.random() * 50 + 10) + 'vh';
  sp.style.animationDuration = Math.random() * 10 + 12 + 's';
  document.body.appendChild(sp);
  setTimeout(() => sp.remove(), 22000);
}, 250);

// Листание — без изменений (убрал форс видео, т.к. теперь GIF)
let currentIndex = 0;
const pages = document.querySelectorAll('.page');

function showPage(index) {
  pages.forEach((p, i) => {
    p.classList.remove('active', 'flipped');
    if (i === index) p.classList.add('active');
    if (i < index) p.classList.add('flipped');
  });
}

let startX = 0;
document.addEventListener('touchstart', e => { startX = e.touches[0].clientX; }, {passive: true});
document.addEventListener('touchend', e => {
  const diff = startX - e.changedTouches[0].clientX;
  if (Math.abs(diff) > 60) {
    if (diff > 0 && currentIndex < pages.length - 1) currentIndex++;
    else if (diff < 0 && currentIndex > 0) currentIndex--;
    showPage(currentIndex);
  }
});

document.addEventListener('mousedown', e => startX = e.clientX);
document.addEventListener('mouseup', e => {
  const diff = e.clientX - startX;
  if (Math.abs(diff) > 100) {
    if (diff < 0 && currentIndex < pages.length - 1) currentIndex++;
    else if (diff > 0 && currentIndex > 0) currentIndex--;
    showPage(currentIndex);
  }
});

document.getElementById('start-screen').addEventListener('click', () => {
  if (currentIndex === 0) { currentIndex = 1; showPage(1); }
});

showPage(0);
</script>
</body>
</html>



